"use strict";
const ramda_1 = require('ramda');
const tail = ramda_1.tail;
function extractQuotedWord(input, acc = '') {
    const h = ramda_1.head(input);
    if (h === '') {
        throw new Error(`No closing quote in ${acc}`);
    }
    else if (h === '"') {
        return acc;
    }
    else {
        return extractQuotedWord(tail(input), acc + h);
    }
}
function extractQuotedWords(input, acc = []) {
    const h = ramda_1.head(input);
    if (h === '') {
        return acc;
    }
    else if (h === '"') {
        const word = extractQuotedWord(tail(input));
        acc.push(`"${word}"`);
        return extractQuotedWords(input.substring(word.length + 2), acc);
    }
    else {
        return extractQuotedWords(tail(input), acc);
    }
}
function extractQuoted(input, acc = []) {
    const words = extractQuotedWords(input);
    return ramda_1.concat(acc, words.map((w) => {
        const from = input.indexOf(w);
        return {
            type: 'term',
            from: from,
            to: from + w.length,
            term: w.replace(/\"/g, '')
        };
    }));
}
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = extractQuoted;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXh0cmFjdC1xdW90ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbWFpbi9wYXJzZXJzL2V4dHJhY3QtcXVvdGVkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSx3QkFBMEMsT0FBTyxDQUFDLENBQUE7QUFHbEQsTUFBTSxJQUFJLEdBQVEsWUFBSyxDQUFDO0FBRXhCLDJCQUEyQixLQUFhLEVBQUUsR0FBRyxHQUFXLEVBQUU7SUFDeEQsTUFBTSxDQUFDLEdBQUcsWUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3RCLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2IsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ25CLE1BQU0sQ0FBQyxHQUFHLENBQUM7SUFDYixDQUFDO0lBQ0QsSUFBSSxDQUFDLENBQUM7UUFDSixNQUFNLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNqRCxDQUFDO0FBQ0gsQ0FBQztBQUVELDRCQUE0QixLQUFhLEVBQUUsR0FBRyxHQUFhLEVBQUU7SUFDM0QsTUFBTSxDQUFDLEdBQUcsWUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3RCLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2IsTUFBTSxDQUFDLEdBQUcsQ0FBQztJQUNiLENBQUM7SUFDRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbkIsTUFBTSxJQUFJLEdBQUcsaUJBQWlCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDNUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksR0FBRyxDQUFDLENBQUM7UUFDdEIsTUFBTSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBQ0QsSUFBSSxDQUFDLENBQUM7UUFDSixNQUFNLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQzlDLENBQUM7QUFDSCxDQUFDO0FBRUQsdUJBQXNDLEtBQWEsRUFBRSxHQUFHLEdBQVksRUFBRTtJQUNwRSxNQUFNLEtBQUssR0FBRyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUV4QyxNQUFNLENBQUMsY0FBTSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM3QixNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlCLE1BQU0sQ0FBQztZQUNMLElBQUksRUFBRSxNQUFNO1lBQ1osSUFBSSxFQUFFLElBQUk7WUFDVixFQUFFLEVBQUUsSUFBSSxHQUFHLENBQUMsQ0FBQyxNQUFNO1lBQ25CLElBQUksRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUM7U0FDM0IsQ0FBQztJQUNKLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDTixDQUFDO0FBWkQ7K0JBWUMsQ0FBQSJ9